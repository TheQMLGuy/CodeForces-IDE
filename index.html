<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codeforces IDE - Web</title>
    <meta name="description"
        content="A sleek Python IDE for Codeforces competitive programming - runs entirely in your browser">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- CodeMirror 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/show-hint.min.css">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Non-blocking toast container if needed, or just remove loading screen -->


    <!-- Main App -->
    <div id="app" class="app hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <span class="logo">‚ö°</span>
                <h1 class="app-title">Codeforces IDE</h1>
                <span class="badge">Web</span>
            </div>
            <div class="header-center">
                <div id="runtimeStatus" class="runtime-status cooking">
                    <span class="status-dot"></span>
                    <span class="status-text">Loading Runtime...</span>
                </div>
                <div class="timer">
                    <span class="timer-icon">‚è±</span>
                    <span class="timer-display" id="timerDisplay">00:00:00</span>
                    <button class="timer-btn" id="timerStartBtn" title="Start/Pause">‚ñ∂</button>
                    <button class="timer-btn" id="timerResetBtn" title="Reset">‚Ü∫</button>
                </div>
            </div>
            <div class="header-right">
                <button class="header-btn" id="themeToggleBtn" title="Toggle Theme">
                    <span id="themeIcon">üåô</span>
                </button>
                <button class="header-btn" id="snippetsBtn" title="Snippets">
                    <span>‚úÇ</span> Snippets
                </button>
                <button class="header-btn" id="saveStateBtn" title="Save Session">
                    <span>üíæ</span> Save
                </button>
                <button class="header-btn" id="loadStateBtn" title="Load Session">
                    <span>üìÇ</span> Load
                </button>
                <input type="file" id="loadStateInput" hidden accept=".json">
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel: Editor + IO -->
            <div class="left-panel">
                <!-- Editor Section -->
                <div class="editor-section">
                    <div class="panel-header">
                        <span class="file-icon">üêç</span>
                        <span class="file-name">solution.py</span>
                        <span class="save-status" id="saveStatus" title="Auto-saved to browser">‚óè</span>
                        <div class="quick-actions">
                            <span class="quick-label">+ Add:</span>
                            <button class="quick-btn" data-type="int" title="Integer input">Int</button>
                            <button class="quick-btn" data-type="list" title="List input">List</button>
                            <button class="quick-btn" data-type="str" title="String input">Str</button>
                            <button class="quick-btn" data-type="matrix" title="Matrix input">Matrix</button>
                        </div>
                    </div>
                    <div class="editor-container">
                        <textarea id="codeEditor"># Codeforces Solution
# Type a snippet keyword (like 'inp', 'tc', 'dfs') and press Tab to expand
# Press Shift+Enter to run your code

n = int(input())
arr = list(map(int, input().split()))

print(sum(arr))
</textarea>
                    </div>
                </div>

                <!-- IO Section (below editor) -->
                <div class="io-section">
                    <!-- Input -->
                    <div class="io-box">
                        <div class="section-header">
                            <span>üì• Input</span>
                            <button class="small-btn" id="clearInputBtn">Clear</button>
                        </div>
                        <textarea id="inputArea" class="io-textarea" placeholder="Paste input...">5
1 2 3 4 5</textarea>
                    </div>
                    <!-- Output -->
                    <div class="io-box">
                        <div class="section-header">
                            <span>üì§ Output</span>
                            <span class="exec-time" id="execTime"></span>
                        </div>
                        <div id="outputArea" class="output-area">
                            <span class="output-placeholder">Output...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Variables | Complexity | Test Cases -->
            <div class="resizer" id="resizer"></div>
            <div class="right-panel-grid">
                <!-- Variables Column -->
                <div class="panel-column variables-column">
                    <div class="section-header">
                        <span>üîß Variables</span>
                        <button class="small-btn" id="refreshVarsBtn">‚Üª</button>
                    </div>
                    <div id="variablesPanel" class="variables-panel">
                        <div class="empty-state">No variables</div>
                    </div>
                </div>

                <!-- Complexity Column -->
                <div class="panel-column complexity-column">
                    <div class="section-header">
                        <span>‚ö° Complexity</span>
                    </div>
                    <div id="complexityPanel" class="complexity-panel">
                        <div class="empty-state">Type to analyze</div>
                    </div>
                </div>

                <!-- Test Cases Column -->
                <div class="panel-column testcases-column">
                    <div class="section-header">
                        <span>üìã Tests</span>
                        <button class="small-btn" id="addTestCaseBtn">+</button>
                    </div>
                    <div id="testCasesPanel" class="testcases-panel">
                        <!-- Test cases will be populated here -->
                    </div>
                    <div class="testcase-actions">
                        <button class="action-btn primary" id="runAllTestsBtn">‚ñ∂ Run</button>
                        <button class="action-btn" id="stressTestBtn">üé≤</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Snippets Modal -->
        <div id="snippetsModal" class="modal hidden">
            <div class="modal-content snippets-modal">
                <div class="modal-header">
                    <h2>‚úÇ Code Snippets</h2>
                    <div class="modal-actions">
                        <button class="header-btn" id="addSnippetBtn">+ Add Snippet</button>
                        <button class="modal-close" id="closeSnippetsBtn">√ó</button>
                    </div>
                </div>
                <div class="modal-body">
                    <p class="modal-hint">Type keyword and press <kbd>Tab</kbd> to expand. Click to insert, hover for
                        edit/delete.</p>
                    <div class="snippets-grid" id="snippetsGrid">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Snippet Editor Modal -->
        <div id="snippetEditorModal" class="modal hidden">
            <div class="modal-content snippet-editor-modal">
                <div class="modal-header">
                    <h2 id="snippetEditorTitle">Add Snippet</h2>
                    <button class="modal-close" id="closeSnippetEditorBtn">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="snippetKeyword">Keyword (e.g., "dfs", "bs")</label>
                        <input type="text" id="snippetKeyword" placeholder="Enter keyword..." />
                    </div>
                    <div class="form-group">
                        <label for="snippetName">Name (e.g., "DFS Template")</label>
                        <input type="text" id="snippetName" placeholder="Enter name..." />
                    </div>
                    <div class="form-group">
                        <label for="snippetCode">Code</label>
                        <textarea id="snippetCode" rows="10" placeholder="Enter code..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="header-btn" id="cancelSnippetBtn">Cancel</button>
                        <button class="header-btn primary" id="saveSnippetBtn">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/selection/active-line.min.js"></script>
    <script src="app.js"></script>
</body>

</html>